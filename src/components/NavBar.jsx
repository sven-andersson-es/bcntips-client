import { useEffect } from "react";
import { Link, useLocation } from "react-router-dom";

function NavBar(props) {
	const { menuActive, setMenuActive } = props;
	const location = useLocation();
	useEffect(() => {
		// hide the menu when the user clicks a link in the menu
		setMenuActive(false);
	}, [location]);
	return (
		<>
			<section className="max-width-container">
				<header className={`nav-bar ${menuActive ? "active-menu" : ""}`}>
					<div className="nav-bar__logo">
						<Link to="/" className="nav-bar__link">
							<svg
								width="179"
								height="26"
								viewBox="0 0 179 26"
								fill="none"
								xmlns="http://www.w3.org/2000/svg"
							>
								<g>
									<path
										d="M144.373 25.5714H0L0.939632 21.1202H145.317L144.373 25.5714Z"
										fill="currentColor"
									/>
									<path
										d="M178.075 25.5714H154.143L155.068 21.1202H179L178.075 25.5714Z"
										fill="currentColor"
									/>
									<path
										d="M5.89241 19.1786H1.24805L5.26838 0H10.1602L8.80097 6.43986C10.1853 5.04414 11.5194 4.76933 12.7137 4.76933C13.8004 4.76933 15.2134 4.90674 16.2463 6.24822C16.6803 6.79784 17.2792 7.86452 17.2792 9.83878C17.2792 12.0047 16.6265 14.5792 15.1309 16.6619C13.7717 18.553 12.061 19.7029 9.53259 19.7029C8.41723 19.7029 7.16917 19.3449 6.29767 17.8407H6.19008L5.89241 19.1822V19.1786ZM7.19786 14.0296C7.19786 14.4418 7.22655 14.8504 7.44173 15.2626C7.7143 15.7543 8.14825 16.0581 8.82607 16.0581C9.20623 16.0581 9.77647 15.9207 10.4292 15.3458C10.8093 14.9878 11.3796 14.3333 11.8135 13.0171C12.0574 12.2759 12.2224 11.4551 12.2224 10.7427C12.2224 10.3884 12.1686 9.70138 11.8135 9.23493C11.6235 8.98905 11.2433 8.66001 10.5619 8.66001C10.0454 8.66001 9.39272 8.90589 8.7938 9.56398C8.14108 10.2474 7.59953 11.5093 7.35207 12.6049C7.24448 13.0714 7.19068 13.5631 7.19068 14.0296H7.19786Z"
										fill="currentColor"
									/>
									<path
										d="M19.5959 9.86405C19.9474 8.52256 20.6575 7.39803 21.4429 6.63146C23.1285 5.01517 25.2481 4.76929 27.0126 4.76929C28.3431 4.76929 29.9211 4.90669 31.0329 5.83958C31.5781 6.27711 32.3384 7.23531 32.3384 8.88053C32.3384 9.43014 32.2021 10.0304 32.1483 10.3594L30.8177 16.7704C30.7353 17.2079 30.6564 17.1826 30.6564 17.866C30.6564 18.2493 30.6564 18.741 31.1728 18.9905L31.1441 19.1821H25.8721L25.9008 17.6743H25.8183C25.1943 18.3324 24.5416 18.7699 24.0502 19.0158C23.2361 19.4533 22.4471 19.6739 21.3318 19.6739C20.5176 19.6739 19.5924 19.5365 18.8572 18.9327C18.2331 18.4409 17.688 17.5369 17.688 16.1665C17.688 14.7961 18.2582 13.6173 19.101 12.8508C19.8075 12.1927 21.0018 11.5888 22.6623 11.3972L24.6205 11.1766C25.8721 11.0392 26.5213 10.8765 26.8763 10.5728C27.2027 10.298 27.4752 9.77727 27.4752 9.09387C27.4752 8.8733 27.4214 8.54426 27.1202 8.3273C26.9014 8.16459 26.6037 8.10674 26.1949 8.10674C25.7322 8.10674 25.1907 8.1899 24.7819 8.57318C24.4842 8.84799 24.2367 9.33975 24.1578 9.86043H19.5924L19.5959 9.86405ZM26.7185 12.8761C26.0407 13.2304 25.5242 13.3678 24.9504 13.5052C24.1901 13.6679 23.5087 13.8053 23.0496 14.1633C22.6157 14.5177 22.5332 14.8756 22.5332 15.1758C22.5332 15.3674 22.5619 15.6133 22.752 15.8592C23.0496 16.2171 23.5123 16.2714 23.7562 16.2714C24.5452 16.2714 25.1154 15.9423 25.4669 15.6422C26.2559 14.9588 26.4459 14.0259 26.636 13.2304L26.7185 12.8761Z"
										fill="currentColor"
									/>
									<path
										d="M44.9768 9.37238C44.568 9.31814 43.9726 9.23498 43.4813 9.23498C42.4771 9.23498 41.5231 9.50978 40.709 10.2763C39.6475 11.2888 39.3247 12.7713 39.0521 14.0296L37.9654 19.1822H33.0736L35.9822 5.26475H40.6552L40.2464 7.23902C40.709 6.60986 41.4406 5.89753 42.2045 5.48532C43.1298 4.99356 44.1878 4.88147 44.923 4.88147C45.3032 4.88147 45.5471 4.9104 45.8734 4.96463L44.9768 9.376V9.37238Z"
										fill="currentColor"
									/>
									<path
										d="M58.4796 13.7005C57.9918 15.2915 57.1204 16.6583 56.1413 17.6201C54.3732 19.3196 52.4437 19.6739 50.6254 19.6739C49.2124 19.6739 47.5806 19.4533 46.3576 18.195C45.1347 16.962 44.9446 15.3457 44.9446 14.3333C44.9446 11.4297 46.3038 8.44301 48.1257 6.79779C50.0552 5.04409 52.2285 4.76929 53.724 4.76929C56.17 4.76929 57.4467 5.75642 58.0994 6.74355C58.806 7.81385 59.0498 9.62179 58.996 10.7427H54.4844C54.5131 10.5511 54.5382 10.3305 54.5382 10.0593C54.5382 9.75919 54.5095 9.26381 54.2656 8.90946C53.9679 8.44301 53.5053 8.38877 53.1502 8.38877C52.5513 8.38877 52.1711 8.58041 51.791 8.93839C51.1921 9.488 50.7868 10.3341 50.5393 11.0211C50.2417 11.8419 49.9942 12.858 49.9942 13.8415C49.9942 14.4164 50.0767 15.1034 50.4031 15.541C50.7581 15.9785 51.1921 16.0617 51.5722 16.0617C52.0349 16.0617 52.4688 15.9532 52.9315 15.541C53.4479 15.0745 53.7743 14.3911 53.8819 13.7041H58.476L58.4796 13.7005Z"
										fill="currentColor"
									/>
									<path
										d="M73.4347 15.1505C72.5668 17.0669 71.2327 18.1083 70.3361 18.629C68.7581 19.533 67.1299 19.6704 65.8244 19.6704C64.2464 19.6704 62.7007 19.4498 61.449 18.1915C60.1974 16.9585 60.0073 15.3711 60.0073 14.3008C60.0073 11.6974 61.0689 8.68535 63.1884 6.79425C64.9278 5.23219 66.8035 4.76575 68.7868 4.76575C70.2536 4.76575 72.2656 5.04055 73.5172 6.81956C74.1162 7.66929 74.4676 8.81914 74.4676 10.298C74.4676 11.3394 74.3062 11.9975 74.17 12.6266L74.0086 13.3679H64.9852C64.8776 13.7512 64.8489 14.026 64.8489 14.4924C64.8489 14.8757 64.8776 15.3132 65.1753 15.6965C65.5841 16.2172 66.2082 16.2714 66.6421 16.2714C66.9972 16.2714 67.4024 16.2425 67.7826 16.0256C68.109 15.8629 68.4066 15.5591 68.6254 15.1505H73.4347ZM69.5758 10.6307C69.6583 10.439 69.7121 10.2185 69.7121 9.91836C69.7121 9.75565 69.7121 9.20604 69.4395 8.79383C69.2494 8.51902 68.8944 8.18998 68.2166 8.18998C67.7539 8.18998 67.155 8.32738 66.5848 8.87338C66.1508 9.28559 65.7706 9.96898 65.5519 10.6271H69.5722L69.5758 10.6307Z"
										fill="currentColor"
									/>
									<path
										d="M83.9429 0L79.9226 19.1786H75.0308L79.0511 0H83.9429Z"
										fill="currentColor"
									/>
									<path
										d="M86.4892 6.79425C88.1999 5.26112 90.0756 4.76575 92.2238 4.76575C93.6082 4.76575 95.2113 5.01163 96.4091 6.21933C97.1443 6.96058 97.876 8.24783 97.876 10.2474C97.876 13.0967 96.4629 16.0545 94.7235 17.6455C92.794 19.3992 90.6745 19.674 88.9351 19.674C87.5508 19.674 85.919 19.4534 84.696 18.1951C84.262 17.7286 83.283 16.4956 83.283 14.1128C83.283 11.7299 84.3445 8.71428 86.4892 6.79786V6.79425ZM88.6087 15.3169C88.8813 15.8086 89.2615 16.0581 89.803 16.0581C90.1832 16.0581 90.6458 15.9207 91.1084 15.5085C91.3272 15.3169 91.8437 14.7672 92.3027 13.4004C92.6291 12.4133 92.8192 11.3719 92.8192 10.4427C92.8192 9.89305 92.7654 9.31813 92.4641 8.90953C92.2202 8.58049 91.8939 8.38885 91.4025 8.38885C90.8574 8.38885 90.4521 8.58049 90.072 8.93846C89.8819 9.1301 89.3368 9.70502 88.8777 11.0212C88.5514 11.9541 88.3326 13.1582 88.3326 14.0911C88.3326 14.4201 88.3613 14.8866 88.6052 15.3241L88.6087 15.3169Z"
										fill="currentColor"
									/>
									<path
										d="M105.644 6.65685H105.752C106.049 6.35673 106.648 5.78181 107.574 5.31536C108.416 4.90315 109.123 4.76575 110.073 4.76575C111.077 4.76575 112.358 4.92846 113.226 6.053C113.85 6.8738 113.932 7.80669 113.932 8.38162C113.932 9.23135 113.742 10.0521 113.606 10.7392L111.841 19.1786H106.95L108.499 11.7263C108.581 11.3141 108.718 10.8766 108.718 10.3559C108.718 10.0558 108.689 9.61463 108.42 9.28558C108.176 8.95654 107.85 8.87338 107.552 8.87338C106.953 8.87338 106.247 9.14818 105.676 9.83158C105.242 10.3523 104.941 11.0357 104.808 11.6938L103.259 19.175H98.3673L101.276 5.25751H105.949L105.651 6.65323L105.644 6.65685Z"
										fill="currentColor"
									/>
									<path
										d="M116.425 9.86405C116.78 8.52256 117.486 7.39803 118.272 6.63146C119.957 5.01517 122.077 4.76929 123.841 4.76929C125.172 4.76929 126.75 4.90669 127.862 5.83958C128.407 6.27711 129.167 7.23531 129.167 8.88053C129.167 9.43014 129.031 10.0304 128.977 10.3594L127.646 16.7704C127.564 17.2079 127.482 17.1826 127.482 17.866C127.482 18.2493 127.482 18.741 127.998 18.9905L127.969 19.1821H122.697L122.726 17.6743H122.643C122.019 18.3324 121.367 18.7699 120.879 19.0158C120.065 19.4533 119.276 19.6739 118.16 19.6739C117.346 19.6739 116.421 19.5365 115.686 18.9327C115.062 18.4409 114.517 17.5369 114.517 16.1665C114.517 14.7961 115.087 13.6173 115.93 12.8508C116.636 12.1927 117.831 11.5888 119.491 11.3972L121.449 11.1766C122.701 11.0392 123.35 10.8765 123.705 10.5728C124.031 10.298 124.304 9.77727 124.304 9.09387C124.304 8.8733 124.25 8.54426 123.953 8.3273C123.734 8.16459 123.436 8.10674 123.027 8.10674C122.565 8.10674 122.023 8.1899 121.614 8.57318C121.317 8.84799 121.069 9.33975 120.99 9.86043H116.425V9.86405ZM123.544 12.8761C122.866 13.2304 122.349 13.3678 121.776 13.5052C121.015 13.6679 120.334 13.8053 119.875 14.1633C119.441 14.5177 119.358 14.8756 119.358 15.1758C119.358 15.3674 119.387 15.6133 119.577 15.8592C119.875 16.2171 120.337 16.2714 120.581 16.2714C121.37 16.2714 121.941 15.9423 122.292 15.6422C123.081 14.9588 123.271 14.0259 123.461 13.2304L123.544 12.8761Z"
										fill="currentColor"
									/>
									<path
										d="M131.366 5.26115H133.622L134.464 1.1499H139.356L138.513 5.26115H141.257L140.468 9.04335H137.696L136.745 13.6464C136.638 14.1381 136.584 14.4129 136.584 14.6335C136.584 14.7709 136.555 15.1252 136.774 15.3169C136.828 15.3711 137.047 15.5375 137.807 15.5375C138.377 15.5375 138.811 15.429 139.137 15.3458L138.348 19.2076C137.179 19.4824 136.229 19.5908 135.142 19.5908C134.217 19.5908 132.994 19.5619 132.155 18.7954C131.448 18.1373 131.366 17.3418 131.366 16.6873C131.366 16.0834 131.448 15.5628 131.556 15.0168L132.807 9.04335H130.58L131.369 5.26115H131.366Z"
										fill="currentColor"
									/>
									<path
										d="M148.322 5.26109L145.414 19.1786H140.522L143.43 5.26109H148.322ZM144.546 0H149.437L148.677 3.61587H143.785L144.546 0Z"
										fill="currentColor"
									/>
									<path
										d="M155.832 5.26112L155.534 6.79425H155.642C157.084 5.06948 158.687 4.76575 159.988 4.76575C161.075 4.76575 162.517 5.01163 163.467 6.35673C164.281 7.50658 164.335 9.12287 164.335 9.80989C164.335 12.6881 162.976 16.0581 161.075 17.9203C159.77 19.1822 158.385 19.674 156.51 19.674C155.584 19.674 154.39 19.4534 153.386 18.1662L151.743 25.5715H146.852L151.184 5.26112H155.832ZM154.257 13.838C154.257 14.3044 154.257 14.7709 154.53 15.2337C154.749 15.617 155.183 16.0545 155.972 16.0545C156.571 16.0545 157.141 15.7797 157.629 15.3422C158.69 14.355 159.232 12.3555 159.232 10.9308C159.232 9.94368 158.988 9.50615 158.877 9.33982C158.658 8.98185 158.253 8.65643 157.517 8.65643C156.782 8.65643 156.295 8.98547 155.832 9.45192C154.77 10.5222 154.473 11.9469 154.39 12.3844C154.308 12.8508 154.254 13.3426 154.254 13.838H154.257Z"
										fill="currentColor"
									/>
									<path
										d="M169.729 14.5755C169.647 14.9046 169.564 15.7001 170.027 16.1665C170.325 16.4666 170.762 16.5245 171.196 16.5245C171.576 16.5245 172.064 16.4702 172.473 16.2244C172.989 15.9242 173.208 15.4289 173.208 14.9914C173.208 14.7708 173.154 14.4707 172.774 14.2501C172.53 14.1127 172.15 14.0295 171.522 13.9211L169.51 13.5667C168.886 13.4582 167.879 13.2377 167.172 12.4964C166.494 11.7841 166.383 10.8801 166.383 10.3883C166.383 8.82629 167.118 7.0726 168.858 5.94806C170.407 4.93562 172.283 4.76929 173.613 4.76929C174.51 4.76929 176.142 4.85245 177.228 5.81066C178.207 6.66039 178.641 8.19352 178.505 9.26381H174.32C174.402 8.79737 174.32 8.30561 174.076 8.0308C173.857 7.756 173.452 7.59328 172.935 7.59328C172.501 7.59328 172.039 7.70176 171.712 7.92233C171.25 8.22244 171.035 8.66358 171.035 9.04686C171.035 9.32167 171.171 9.56755 171.332 9.70495C171.605 9.92552 172.01 9.95083 172.828 10.1172L174.567 10.4462C175.328 10.5836 176.497 10.7752 177.257 11.7624C177.583 12.1746 177.91 12.8869 177.91 14.0368C177.91 15.1866 177.476 17.1066 175.302 18.4771C173.617 19.5473 171.824 19.6811 170.167 19.6811C169.27 19.6811 167.477 19.6522 166.225 18.4771C165.002 17.3525 164.841 15.7109 164.949 14.5864H169.733L169.729 14.5755Z"
										fill="currentColor"
									/>
								</g>
								<defs>
									<clipPath id="clip0_37_1355">
										<rect width="179" height="25.5714" fill="white" />
									</clipPath>
								</defs>
							</svg>
						</Link>
					</div>
					<div
						className="nav-bar__menu"
						onClick={() => {
							setMenuActive(!menuActive);
						}}
					>
						<svg
							className="nav-bar__hamburger"
							width="37"
							height="31"
							viewBox="0 0 37 31"
							fill="none"
							xmlns="http://www.w3.org/2000/svg"
						>
							<path
								className="nav-bar__hamburger--first"
								d="M30.932 9.45114H7L7.92529 5H31.8572L30.932 9.45114Z"
								fill="#222222"
							/>
							<path
								className="nav-bar__hamburger--middle"
								d="M29.932 17.4511H6L6.92529 13H30.8572L29.932 17.4511Z"
								fill="#222222"
							/>
							<path
								className="nav-bar__hamburger--last"
								d="M28.932 25.4511H5L5.92529 21H29.8572L28.932 25.4511Z"
								fill="#222222"
							/>
						</svg>
					</div>
				</header>
			</section>
			<div className="nav-bar__main-menu">
				<nav className="max-width-container">
					<ul>
						<li>
							<Link to="/">Find tips in Barcelona</Link>
						</li>
						<li>
							<Link to="/about">About</Link>
						</li>
						<li>
							<Link to="/contribute">Contribute</Link>
						</li>
						<li className="login">
							<Link to="/login">Login</Link>
						</li>
					</ul>
				</nav>
			</div>
		</>
	);
}

export default NavBar;
